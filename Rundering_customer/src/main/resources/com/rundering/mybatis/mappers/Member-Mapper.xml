<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Member-Mapper">
	<select id="selectMemberById" resultType="member" parameterType="str">
		select *
		  from TB_MEMBER
		 where id=#{id} 
	</select>
	<select id="selectAuthByMemberNo" resultType="str" parameterType="str">
		select AUTH_GRP_CODE
		  from TB_USER_AUTH
		 where memberno=#{memberNo} 
	</select>
	<update id="updateLoginfailCountByMemberNo" parameterType="str">
		update TB_MEMBER
		   set loginfail_count=loginfail_count+1
		 where memberno=#{memberNo}  
	</update>
	<update id="updateLoginfailZeroByMemberNo" parameterType="str">
		update TB_MEMBER
		   set loginfail_count=0
		 where memberno=#{memberNo}  
	</update>
	<update id="updateLastLoginByMemberNo" parameterType="str">
		update tb_member
		   set LASTLOGPSNHOURLIVER=sysdate
		 where memberno=#{memberno} 
	</update>


</mapper>